<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>TypeScript基础 | 邬晓’s blog</title>
    <meta name="description" content="Redesign Everything">
    
    
    <link rel="preload" href="/assets/css/0.styles.8276a885.css" as="style"><link rel="preload" href="/assets/js/app.cdcd2146.js" as="script"><link rel="preload" href="/assets/js/2.cc12ecf3.js" as="script"><link rel="preload" href="/assets/js/107.046691ae.js" as="script"><link rel="prefetch" href="/assets/js/10.17c56599.js"><link rel="prefetch" href="/assets/js/100.0fd0dd86.js"><link rel="prefetch" href="/assets/js/101.41dba363.js"><link rel="prefetch" href="/assets/js/102.2d7530ce.js"><link rel="prefetch" href="/assets/js/103.454251d7.js"><link rel="prefetch" href="/assets/js/104.4295c1bf.js"><link rel="prefetch" href="/assets/js/105.4b131194.js"><link rel="prefetch" href="/assets/js/106.e19f3046.js"><link rel="prefetch" href="/assets/js/108.86b8103c.js"><link rel="prefetch" href="/assets/js/109.1ff984f1.js"><link rel="prefetch" href="/assets/js/11.d4d46f3b.js"><link rel="prefetch" href="/assets/js/110.05172648.js"><link rel="prefetch" href="/assets/js/111.21aba1b8.js"><link rel="prefetch" href="/assets/js/112.e9380156.js"><link rel="prefetch" href="/assets/js/113.20806dda.js"><link rel="prefetch" href="/assets/js/114.8f4e06dd.js"><link rel="prefetch" href="/assets/js/115.b2604445.js"><link rel="prefetch" href="/assets/js/116.2fc384b7.js"><link rel="prefetch" href="/assets/js/117.784bb1db.js"><link rel="prefetch" href="/assets/js/118.eedc9631.js"><link rel="prefetch" href="/assets/js/119.a104bf16.js"><link rel="prefetch" href="/assets/js/12.f8703e32.js"><link rel="prefetch" href="/assets/js/120.7742e1ff.js"><link rel="prefetch" href="/assets/js/121.24ecd770.js"><link rel="prefetch" href="/assets/js/122.71e980cd.js"><link rel="prefetch" href="/assets/js/123.6a8a87d3.js"><link rel="prefetch" href="/assets/js/124.7e1c8414.js"><link rel="prefetch" href="/assets/js/125.a1c27c09.js"><link rel="prefetch" href="/assets/js/126.d5fba750.js"><link rel="prefetch" href="/assets/js/127.f657aa0f.js"><link rel="prefetch" href="/assets/js/128.1dde45f3.js"><link rel="prefetch" href="/assets/js/129.3e2318eb.js"><link rel="prefetch" href="/assets/js/13.83d0642b.js"><link rel="prefetch" href="/assets/js/130.7fd30b71.js"><link rel="prefetch" href="/assets/js/131.a3852fa3.js"><link rel="prefetch" href="/assets/js/132.03154b30.js"><link rel="prefetch" href="/assets/js/133.10134a67.js"><link rel="prefetch" href="/assets/js/134.644d186b.js"><link rel="prefetch" href="/assets/js/135.6d8c5b2a.js"><link rel="prefetch" href="/assets/js/136.f0a9f456.js"><link rel="prefetch" href="/assets/js/137.b2f87434.js"><link rel="prefetch" href="/assets/js/138.6d911738.js"><link rel="prefetch" href="/assets/js/139.737388fb.js"><link rel="prefetch" href="/assets/js/14.ea5da817.js"><link rel="prefetch" href="/assets/js/140.28cfa1f6.js"><link rel="prefetch" href="/assets/js/141.2e68ab75.js"><link rel="prefetch" href="/assets/js/142.49da3db0.js"><link rel="prefetch" href="/assets/js/143.08b37e26.js"><link rel="prefetch" href="/assets/js/15.54780c5a.js"><link rel="prefetch" href="/assets/js/16.bea790c0.js"><link rel="prefetch" href="/assets/js/17.03c0fd3f.js"><link rel="prefetch" href="/assets/js/18.8115a7c4.js"><link rel="prefetch" href="/assets/js/19.fc65a5e4.js"><link rel="prefetch" href="/assets/js/20.1df3b79b.js"><link rel="prefetch" href="/assets/js/21.8be0862c.js"><link rel="prefetch" href="/assets/js/22.54575244.js"><link rel="prefetch" href="/assets/js/23.71737e3a.js"><link rel="prefetch" href="/assets/js/24.73f99cb1.js"><link rel="prefetch" href="/assets/js/25.f0b098c5.js"><link rel="prefetch" href="/assets/js/26.f9826de2.js"><link rel="prefetch" href="/assets/js/27.d4934777.js"><link rel="prefetch" href="/assets/js/28.72ebdc8d.js"><link rel="prefetch" href="/assets/js/29.3696ebe1.js"><link rel="prefetch" href="/assets/js/3.e3d5b152.js"><link rel="prefetch" href="/assets/js/30.acedf957.js"><link rel="prefetch" href="/assets/js/31.30b9dae4.js"><link rel="prefetch" href="/assets/js/32.2048bc2e.js"><link rel="prefetch" href="/assets/js/33.f24fdde9.js"><link rel="prefetch" href="/assets/js/34.b5f2b3af.js"><link rel="prefetch" href="/assets/js/35.41b978c4.js"><link rel="prefetch" href="/assets/js/36.fe258c6b.js"><link rel="prefetch" href="/assets/js/37.72e59ec1.js"><link rel="prefetch" href="/assets/js/38.0dce8e8e.js"><link rel="prefetch" href="/assets/js/39.2ca8cb67.js"><link rel="prefetch" href="/assets/js/4.71d225e1.js"><link rel="prefetch" href="/assets/js/40.f828bea0.js"><link rel="prefetch" href="/assets/js/41.c75069c2.js"><link rel="prefetch" href="/assets/js/42.15001923.js"><link rel="prefetch" href="/assets/js/43.85c97f10.js"><link rel="prefetch" href="/assets/js/44.49fcf678.js"><link rel="prefetch" href="/assets/js/45.1066353a.js"><link rel="prefetch" href="/assets/js/46.920c5170.js"><link rel="prefetch" href="/assets/js/47.a4a43b06.js"><link rel="prefetch" href="/assets/js/48.e465a968.js"><link rel="prefetch" href="/assets/js/49.23c7e646.js"><link rel="prefetch" href="/assets/js/5.dd3d2528.js"><link rel="prefetch" href="/assets/js/50.8828d3c4.js"><link rel="prefetch" href="/assets/js/51.26ae361b.js"><link rel="prefetch" href="/assets/js/52.f5e8e4ad.js"><link rel="prefetch" href="/assets/js/53.fca2bfda.js"><link rel="prefetch" href="/assets/js/54.3e93f1f2.js"><link rel="prefetch" href="/assets/js/55.1144cd23.js"><link rel="prefetch" href="/assets/js/56.ec54b046.js"><link rel="prefetch" href="/assets/js/57.eed6a622.js"><link rel="prefetch" href="/assets/js/58.d356d86e.js"><link rel="prefetch" href="/assets/js/59.bb3579ef.js"><link rel="prefetch" href="/assets/js/6.cec94d9d.js"><link rel="prefetch" href="/assets/js/60.9fb1b12a.js"><link rel="prefetch" href="/assets/js/61.4472364c.js"><link rel="prefetch" href="/assets/js/62.4e1e0864.js"><link rel="prefetch" href="/assets/js/63.a3844ec9.js"><link rel="prefetch" href="/assets/js/64.0612bef7.js"><link rel="prefetch" href="/assets/js/65.07eb9c78.js"><link rel="prefetch" href="/assets/js/66.cefe4877.js"><link rel="prefetch" href="/assets/js/67.4138c1f5.js"><link rel="prefetch" href="/assets/js/68.da5295bd.js"><link rel="prefetch" href="/assets/js/69.0dbf021a.js"><link rel="prefetch" href="/assets/js/7.738c7654.js"><link rel="prefetch" href="/assets/js/70.47543d66.js"><link rel="prefetch" href="/assets/js/71.67a74995.js"><link rel="prefetch" href="/assets/js/72.d97d7e2f.js"><link rel="prefetch" href="/assets/js/73.ed20e40a.js"><link rel="prefetch" href="/assets/js/74.3e658438.js"><link rel="prefetch" href="/assets/js/75.349e3acc.js"><link rel="prefetch" href="/assets/js/76.391eaa94.js"><link rel="prefetch" href="/assets/js/77.3159897a.js"><link rel="prefetch" href="/assets/js/78.2f8849f1.js"><link rel="prefetch" href="/assets/js/79.633ea7e2.js"><link rel="prefetch" href="/assets/js/8.7306a841.js"><link rel="prefetch" href="/assets/js/80.e38a2f3f.js"><link rel="prefetch" href="/assets/js/81.8e9b59d4.js"><link rel="prefetch" href="/assets/js/82.0c538e04.js"><link rel="prefetch" href="/assets/js/83.9687a13d.js"><link rel="prefetch" href="/assets/js/84.b6a378c9.js"><link rel="prefetch" href="/assets/js/85.8b49272e.js"><link rel="prefetch" href="/assets/js/86.81df6102.js"><link rel="prefetch" href="/assets/js/87.e7773d8a.js"><link rel="prefetch" href="/assets/js/88.30bf65f5.js"><link rel="prefetch" href="/assets/js/89.152a64d8.js"><link rel="prefetch" href="/assets/js/9.292a5f0b.js"><link rel="prefetch" href="/assets/js/90.9b164aea.js"><link rel="prefetch" href="/assets/js/91.852498e5.js"><link rel="prefetch" href="/assets/js/92.8657e2b0.js"><link rel="prefetch" href="/assets/js/93.209cc3f5.js"><link rel="prefetch" href="/assets/js/94.588e0bd7.js"><link rel="prefetch" href="/assets/js/95.c997aa06.js"><link rel="prefetch" href="/assets/js/96.588119c1.js"><link rel="prefetch" href="/assets/js/97.c92dd28a.js"><link rel="prefetch" href="/assets/js/98.37070198.js"><link rel="prefetch" href="/assets/js/99.9a1c850c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8276a885.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">邬晓’s blog</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/fe2020/" class="nav-link">前端精进2020</a></div><div class="nav-item"><a href="/github/my-github.html" class="nav-link">Github漫游指南</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">算法学习</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/algorithm/ds/" class="nav-link">数据结构</a></li><li class="dropdown-item"><!----> <a href="/algorithm/ag/" class="nav-link">算法</a></li></ul></div></div><div class="nav-item"><a href="/effective/" class="nav-link">效率</a></div><div class="nav-item"><a href="/reading/" class="nav-link">读书笔记</a></div><div class="nav-item"><a href="/wiki/" class="nav-link">WIKI</a></div><div class="nav-item"><a href="/flag/" class="nav-link">FLAG</a></div><div class="nav-item"><a href="/about/" class="nav-link">ABOUT ME</a></div><div class="nav-item"><a href="https://wuxiao.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WUXIAO.IO
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://react.wuxiao.codes" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WUXIAO.CODES
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/fe2020/" class="nav-link">前端精进2020</a></div><div class="nav-item"><a href="/github/my-github.html" class="nav-link">Github漫游指南</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">算法学习</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/algorithm/ds/" class="nav-link">数据结构</a></li><li class="dropdown-item"><!----> <a href="/algorithm/ag/" class="nav-link">算法</a></li></ul></div></div><div class="nav-item"><a href="/effective/" class="nav-link">效率</a></div><div class="nav-item"><a href="/reading/" class="nav-link">读书笔记</a></div><div class="nav-item"><a href="/wiki/" class="nav-link">WIKI</a></div><div class="nav-item"><a href="/flag/" class="nav-link">FLAG</a></div><div class="nav-item"><a href="/about/" class="nav-link">ABOUT ME</a></div><div class="nav-item"><a href="https://wuxiao.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WUXIAO.IO
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://react.wuxiao.codes" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WUXIAO.CODES
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/fe2020/" class="sidebar-heading clickable open"><span>前端精进2020</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe2020/grow/" class="sidebar-link">成长</a></li><li><a href="/fe2020/js-basic/" class="sidebar-link">js基础</a></li><li><a href="/fe2020/js-skill/" class="sidebar-link">js技巧</a></li><li><a href="/fe2020/Vue/" class="sidebar-link">Vue</a></li><li><a href="/fe2020/React/" class="sidebar-link">React</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/fe2020/Gof/" class="sidebar-heading clickable"><span>设计模式</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/fe2020/algorithm/" class="sidebar-link">数据结构与算法</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/fe2020/microFE/" class="sidebar-heading clickable"><span>微前端</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/fe2020/case/" class="sidebar-link">案例</a></li><li><a href="/fe2020/project/" class="sidebar-link">个人项目</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/fe/" class="sidebar-heading clickable router-link-active"><span>前端精进手册</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/reading/" class="sidebar-heading clickable"><span>读书笔记</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/algorithm/" class="sidebar-heading clickable"><span>算法学习</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="content default"><h1 id="typescript基础"><a href="#typescript基础" aria-hidden="true" class="header-anchor">#</a> <strong>TypeScript基础</strong></h1> <h2 id="_1-typescript是什么？"><a href="#_1-typescript是什么？" aria-hidden="true" class="header-anchor">#</a> 1. TypeScript是什么？</h2> <ul><li>Typescript是由微软开发的一款开源的编程语言</li> <li>Typescript是Javascript的超集，遵循最新的ES5/ES6规范。TypeScript扩展了Javascript语法</li> <li>TypeScript更像后端Java、C#这样的面向对象语言可以让JS开发大型企业应用</li> <li>越来越多的项目是基于TS的，比如VSCode、Angular、Vue3、React16</li> <li>TS提供的类型系统可以帮助我们在写代码的时候提供更丰富的语法提示</li> <li>在创建前的编译阶段经过类型系统的检查，就可以避免很多线上的错误</li></ul> <h2 id="_2-typescript安装和编译"><a href="#_2-typescript安装和编译" aria-hidden="true" class="header-anchor">#</a> 2. TypeScript安装和编译</h2> <h3 id="_2-1-安装"><a href="#_2-1-安装" aria-hidden="true" class="header-anchor">#</a> 2.1 安装</h3> <div class="language- extra-class"><pre class="language-text"><code>npm install typescript -g
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>tsc helloworld.ts
</code></pre></div><h3 id="_2-2-vscode-typescript"><a href="#_2-2-vscode-typescript" aria-hidden="true" class="header-anchor">#</a> 2.2 Vscode + TypeScript</h3> <h4 id="_2-2-1-生成配置文件"><a href="#_2-2-1-生成配置文件" aria-hidden="true" class="header-anchor">#</a> 2.2.1 生成配置文件</h4> <div class="language- extra-class"><pre class="language-text"><code>tsc --init
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">/* Basic Options */</span>
    <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;es5&quot;</span><span class="token punctuation">,</span>                          <span class="token comment">/* Specify ECMAScript target version: 'ES3' (default), 'ES5', 'ES2015', 'ES2016', 'ES2017','ES2018' or 'ESNEXT'. 指定ECMAScript的目标版本*/</span>
    <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;commonjs&quot;</span><span class="token punctuation">,</span>                     <span class="token comment">/* Specify module code generation: 'none', 'commonjs', 'amd', 'system', 'umd', 'es2015', or 'ESNext'. 指定模块代码的生成方式*/</span>
    <span class="token comment">// &quot;lib&quot;: [],                             /* Specify library files to be included in the compilation. 指定编译的时候用来包含的编译文件*/</span>
    <span class="token comment">// &quot;allowJs&quot;: true,                       /* Allow javascript files to be compiled. 允许编译JS文件*/</span>
    <span class="token comment">// &quot;checkJs&quot;: true,                       /* Report errors in .js files. 在JS中包括错误*/</span>
    <span class="token comment">// &quot;jsx&quot;: &quot;preserve&quot;,                     /* Specify JSX code generation: 'preserve', 'react-native', or 'react'. 指定JSX代码的生成方式 是保留还是react-native或者react*/</span>
    <span class="token comment">// &quot;declaration&quot;: true,                   /* Generates corresponding '.d.ts' file.生成相应的类型声明文件 */</span>
    <span class="token comment">// &quot;declarationMap&quot;: true,                /* Generates a sourcemap for each corresponding '.d.ts' file. 为每个类型声明文件生成相应的sourcemap*/</span>
    <span class="token comment">// &quot;sourceMap&quot;: true,                     /* Generates corresponding '.map' file. 生成对应的map文件 */</span>
    <span class="token comment">// &quot;outFile&quot;: &quot;./&quot;,                       /* Concatenate and emit output to single file. 合并并且把编译后的内容输出 到一个文件里*/</span>
    <span class="token comment">// &quot;outDir&quot;: &quot;./&quot;,                        /* Redirect output structure to the directory.按原始结构输出到目标目录 */</span>
    <span class="token comment">// &quot;rootDir&quot;: &quot;./&quot;,                       /* Specify the root directory of input files. Use to control the output directory structure with --outDir. 指定输入文件的根目录，用--outDir来控制输出的目录结构*/</span>
    <span class="token comment">// &quot;composite&quot;: true,                     /* Enable project compilation 启用项目编译*/</span>
    <span class="token comment">// &quot;removeComments&quot;: true,                /* Do not emit comments to output. 移除注释*/</span>
    <span class="token comment">// &quot;noEmit&quot;: true,                        /* Do not emit outputs. 不要输出*/</span>
    <span class="token comment">// &quot;importHelpers&quot;: true,                 /* Import emit helpers from 'tslib'. */</span>
    <span class="token comment">// &quot;downlevelIteration&quot;: true,            /* Provide full support for iterables in 'for-of', spread, and destructuring when targeting 'ES5' or 'ES3'. 当目标是ES5或ES3的时候提供对for-of、扩展运算符和解构赋值中对于迭代器的完整支持*/</span>
    <span class="token comment">// &quot;isolatedModules&quot;: true,               /* Transpile each file as a separate module (similar to 'ts.transpileModule').r把每一个文件转译成一个单独的模块 */</span>

    <span class="token comment">/* Strict Type-Checking Options */</span>
    <span class="token comment">//&quot;strict&quot;: true,                           /* Enable all strict type-checking options. 启用完全的严格类型检查 */</span>
    <span class="token comment">// &quot;noImplicitAny&quot;: true,                 /* Raise error on expressions and declarations with an implied 'any' type. 不能使用隐式的any类型*/</span>
    <span class="token comment">// &quot;strictNullChecks&quot;: true,              /* Enable strict null checks. 启用严格的NULL检查*/</span>
    <span class="token comment">// &quot;strictFunctionTypes&quot;: true,           /* Enable strict checking of function types. 启用严格的函数类型检查*/</span>
    <span class="token comment">// &quot;strictBindCallApply&quot;: true,           /* Enable strict 'bind', 'call', and 'apply' methods on functions.启用函数上严格的bind call 和apply方法 */</span>
    <span class="token comment">// &quot;strictPropertyInitialization&quot;: true,  /* Enable strict checking of property initialization in classes. 启用类上初始化属性检查*/</span>
    <span class="token comment">// &quot;noImplicitThis&quot;: true,                /* Raise error on 'this' expressions with an implied 'any' type.在默认的any中调用 this表达式报错 */</span>
    <span class="token comment">// &quot;alwaysStrict&quot;: true,                  /* Parse in strict mode and emit &quot;use strict&quot; for each source file. 在严格模式下解析并且向每个源文件中发射use strict*/</span>

    <span class="token comment">/* Additional Checks */</span>
    <span class="token comment">// &quot;noUnusedLocals&quot;: true,                /* Report errors on unused locals. 有未使用到的本地变量时报错 */</span>
    <span class="token comment">// &quot;noUnusedParameters&quot;: true,            /* Report errors on unused parameters. 有未使用到的参数时报错*/</span>
    <span class="token comment">// &quot;noImplicitReturns&quot;: true,             /* Report error when not all code paths in function return a value. 当不是所有的代码路径都有返回值的时候报错*/</span>
    <span class="token comment">// &quot;noFallthroughCasesInSwitch&quot;: true,    /* Report errors for fallthrough cases in switch statement. 在switch表达式中没有替代的case会报错 */</span>

    <span class="token comment">/* Module Resolution Options */</span>
    <span class="token comment">// &quot;moduleResolution&quot;: &quot;node&quot;,            /* Specify module resolution strategy: 'node' (Node.js) or 'classic' (TypeScript pre-1.6). 指定模块的解析策略 node classic*/</span>
    <span class="token comment">// &quot;baseUrl&quot;: &quot;./&quot;,                       /* Base directory to resolve non-absolute module names. 在解析非绝对路径模块名的时候的基准路径*/</span>
    <span class="token comment">// &quot;paths&quot;: {},                           /* A series of entries which re-map imports to lookup locations relative to the 'baseUrl'. 一些路径的集合*/</span>
    <span class="token comment">// &quot;rootDirs&quot;: [],                        /* List of root folders whose combined content represents the structure of the project at runtime. 根目录的列表，在运行时用来合并内容*/</span>
    <span class="token comment">// &quot;typeRoots&quot;: [],                       /* List of folders to include type definitions from. 用来包含类型声明的文件夹列表*/</span>
    <span class="token comment">// &quot;types&quot;: [],                           /* Type declaration files to be included in compilation.在编译的时候被包含的类型声明 */</span>
    <span class="token comment">// &quot;allowSyntheticDefaultImports&quot;: true,  /* Allow default imports from modules with no default export. This does not affect code emit, just typechecking.当没有默认导出的时候允许默认导入，这个在代码执行的时候没有作用，只是在类型检查的时候生效 */</span>
    <span class="token comment">//&quot;esModuleInterop&quot;: true                   /* Enables emit interoperability between CommonJS and ES Modules via creation of namespace objects for all imports. Implies 'allowSyntheticDefaultImports'.*/</span>
    <span class="token comment">// &quot;preserveSymlinks&quot;: true,              /* Do not resolve the real path of symlinks.不要symlinks解析的真正路径 */</span>

    <span class="token comment">/* Source Map Options */</span>
    <span class="token comment">// &quot;sourceRoot&quot;: &quot;&quot;,                      /* Specify the location where debugger should locate TypeScript files instead of source locations. 指定ts文件位置*/</span>
    <span class="token comment">// &quot;mapRoot&quot;: &quot;&quot;,                         /* Specify the location where debugger should locate map files instead of generated locations. 指定 map文件存放的位置 */</span>
    <span class="token comment">// &quot;inlineSourceMap&quot;: true,               /* Emit a single file with source maps instead of having a separate file. 源文件和sourcemap 文件在同一文件中，而不是把map文件放在一个单独的文件里*/</span>
    <span class="token comment">// &quot;inlineSources&quot;: true,                 /* Emit the source alongside the sourcemaps within a single file; requires '--inlineSourceMap' or '--sourceMap' to be set. 源文件和sourcemap 文件在同一文件中*/</span>

    <span class="token comment">/* Experimental Options */</span>
    <span class="token comment">// &quot;experimentalDecorators&quot;: true,        /* Enables experimental support for ES7 decorators. 启动装饰器*/</span>
    <span class="token comment">// &quot;emitDecoratorMetadata&quot;: true,         /* Enables experimental support for emitting type metadata for decorators. */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_2-2-2-执行编译"><a href="#_2-2-2-执行编译" aria-hidden="true" class="header-anchor">#</a> 2.2.2 执行编译</h4> <div class="language-shell extra-class"><pre class="language-text"><code>tsc
</code></pre></div><h2 id="_3-数据类型"><a href="#_3-数据类型" aria-hidden="true" class="header-anchor">#</a> 3. 数据类型</h2> <h3 id="_3-1-布尔类型-boolean"><a href="#_3-1-布尔类型-boolean" aria-hidden="true" class="header-anchor">#</a> 3.1 布尔类型(boolean)</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> married<span class="token punctuation">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-2-数字类型-number"><a href="#_3-2-数字类型-number" aria-hidden="true" class="header-anchor">#</a> 3.2 数字类型(number)</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> age<span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-3-字符串类型-string"><a href="#_3-3-字符串类型-string" aria-hidden="true" class="header-anchor">#</a> 3.3 字符串类型(string)</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> firstname<span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'weisuoke'</span>
</code></pre></div><h3 id="_3-4-数组类型-array"><a href="#_3-4-数组类型-array" aria-hidden="true" class="header-anchor">#</a> 3.4 数组类型(array)</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> arr2<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> arr3<span class="token punctuation">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="_3-5-元组类型-tuple"><a href="#_3-5-元组类型-tuple" aria-hidden="true" class="header-anchor">#</a> 3.5 元组类型(tuple)</h3> <ul><li>在 TypeScript 的基础类型中，元组（ Tuple ）表示一个已知<code>数量</code>和<code>类型</code>的数组</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> weisuoke<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'weisuoke'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
weisuoke<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
weisuoke<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tofixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><table><thead><tr><th style="text-align:left;">元组</th> <th style="text-align:left;">数组</th></tr></thead> <tbody><tr><td style="text-align:left;">每一项可以是不同的类型</td> <td style="text-align:left;">每一项都是同一种类型</td></tr> <tr><td style="text-align:left;">有预定义的长度</td> <td style="text-align:left;">没有长度限制</td></tr> <tr><td style="text-align:left;">用于表示一个结构</td> <td style="text-align:left;">用于表示一个列表</td></tr></tbody></table> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> animal<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'weisuoke'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-6-枚举类型-enum"><a href="#_3-6-枚举类型-enum" aria-hidden="true" class="header-anchor">#</a> 3.6 枚举类型(enum)</h3> <ul><li>事先考虑某一个变量的所有的可能的值，尽量用自然语言中的单词表示它的每一个值</li> <li>比如性别、月份、星期、颜色、单位、学历</li></ul> <h4 id="_3-6-1-普通枚举"><a href="#_3-6-1-普通枚举" aria-hidden="true" class="header-anchor">#</a> 3.6.1 普通枚举</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">enum</span> Gender <span class="token punctuation">{</span>
  <span class="token constant">GIRL</span><span class="token punctuation">,</span>
  <span class="token constant">BOY</span>
<span class="token punctuation">}</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`李雷是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Gender<span class="token punctuation">.</span><span class="token constant">BOY</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`韩梅梅是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Gender<span class="token punctuation">.</span><span class="token constant">GIRL</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">enum</span> week <span class="token punctuation">{</span>
  <span class="token constant">MONDAY</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token constant">TUESDAY</span> <span class="token operator">=</span> <span class="token number">2</span>
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`今天是星期</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Week<span class="token punctuation">.</span><span class="token constant">MONDAY</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>
</code></pre></div><h4 id="_3-6-2-常数枚举"><a href="#_3-6-2-常数枚举" aria-hidden="true" class="header-anchor">#</a> 3.6.2 常数枚举</h4> <ul><li>常数枚举与普通枚举的区别是，它会在编译阶段被删除，并且不能包含计算成员。</li> <li>假如包含了计算成员，则会在编译阶段报错</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> <span class="token keyword">enum</span> Colors <span class="token punctuation">{</span>
    Red<span class="token punctuation">,</span>
    Yellow<span class="token punctuation">,</span>
    Blue
<span class="token punctuation">}</span>

<span class="token keyword">let</span> myColors <span class="token operator">=</span> <span class="token punctuation">[</span>Colors<span class="token punctuation">.</span>Red<span class="token punctuation">,</span> Colors<span class="token punctuation">.</span>Yellow<span class="token punctuation">,</span> Colors<span class="token punctuation">.</span>Blue<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> <span class="token keyword">enum</span> Color <span class="token punctuation">{</span>Red<span class="token punctuation">,</span> Yellow<span class="token punctuation">,</span> Blue <span class="token operator">=</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">.</span>length<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-7-任意类型-any"><a href="#_3-7-任意类型-any" aria-hidden="true" class="header-anchor">#</a> 3.7 任意类型(any)</h3> <ul><li><code>any</code>就是可以赋值给任意类型</li> <li>第三方库没有提供类型文件时可以使用<code>any</code></li> <li>类型转换遇到困难时</li> <li>数据结构太复杂难以定义</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> root<span class="token punctuation">:</span><span class="token builtin">any</span><span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
root<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-8-null-和-undefined"><a href="#_3-8-null-和-undefined" aria-hidden="true" class="header-anchor">#</a> 3.8 null 和 undefined</h3> <ul><li>null 和 undefined 是其它类型的子类型，可以赋值给其它类型，如数字类型，此时，赋值后的类型会变成 null 或 undefined</li> <li>strictNullChecks</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
x <span class="token operator">=</span> undefined<span class="token punctuation">;</span>    
x <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>   

<span class="token keyword">let</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
y <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
y <span class="token operator">=</span> undefined<span class="token punctuation">;</span>   
y <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>   
</code></pre></div><h3 id="_3-9-void类型"><a href="#_3-9-void类型" aria-hidden="true" class="header-anchor">#</a> 3.9 void类型</h3> <ul><li>void 表示没有任何类型</li> <li>当一个函数没有返回值时，TS 会认为它的返回值是 void 类型。</li> <li>当我们声明一个变量类型是 void 的时候，它的非严格模式下仅可以被赋值为 null 和 undefined;</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">greeting</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span><span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">greeting</span><span class="token punctuation">(</span><span class="token string">'weisuoke'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-10-never类型"><a href="#_3-10-never类型" aria-hidden="true" class="header-anchor">#</a> 3.10 never类型</h3> <p>never是其它类型(null undefined)的子类型，代表不会出现的值</p> <h4 id="_3-10-1-作为不会返回-return-的函数的返回值类型"><a href="#_3-10-1-作为不会返回-return-的函数的返回值类型" aria-hidden="true" class="header-anchor">#</a> 3.10.1 作为不会返回(return)的函数的返回值类型</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// 返回never的函数 必须存在 无法达到（ unreachable ） 的终点</span>
<span class="token keyword">function</span> <span class="token function">error</span><span class="token punctuation">(</span><span class="token parameter">message<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">never</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 由类型推论得到返回值为 never</span>
<span class="token keyword">function</span> <span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;Something failed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 返回never的函数 必须存在 无法达到（ unreachable ） 的终点</span>
<span class="token keyword">function</span> <span class="token function">infiniteLoop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">never</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_3-10-2-strictnullchecks"><a href="#_3-10-2-strictnullchecks" aria-hidden="true" class="header-anchor">#</a> 3.10.2 strictNullChecks</h4> <ul><li>在 TS 中， null 和 undefined 是任何类型的有效值，所以无法正确地检测它们是否被错误地使用。于是 TS 引入了 --strictNullChecks 这一种检查模式</li> <li>由于引入了 --strictNullChecks ，在这一模式下，null 和 undefined 能被检测到。所以 TS 需要一种新的底部类型（ bottom type ）。所以就引入了 never。</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// Compiled with --strictNullChecks</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// x: number 类型</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// x: string 类型</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// x: never 类型</span>
    <span class="token comment">// --strictNullChecks 模式下，这里的代码将不会被执行，x 无法被观察</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_3-10-3-never和void的区别"><a href="#_3-10-3-never和void的区别" aria-hidden="true" class="header-anchor">#</a> 3.10.3 never和void的区别</h4> <ul><li>void 可以被赋值为 null 和 undefined的类型。 never 则是一个不包含值的类型。</li> <li>拥有 void 返回值类型的函数能正常运行。拥有 never 返回值类型的函数无法正常返回，无法终止，或会抛出异常。</li></ul> <h3 id="_3-11-类型推论"><a href="#_3-11-类型推论" aria-hidden="true" class="header-anchor">#</a> 3.11 类型推论</h3> <ul><li>是指编程语言中能够自动推导出值的类型的能力，它是一些强静态类型语言中出现的特性</li> <li>定义时未赋值就会推论成any类型</li> <li>如果定义的时候就赋值就能利用到类型推论</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> username2<span class="token punctuation">;</span>
username2 <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
username2 <span class="token operator">=</span> <span class="token string">'weisuoke'</span><span class="token punctuation">;</span>
username2 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-12-包装对象-wrapper-object"><a href="#_3-12-包装对象-wrapper-object" aria-hidden="true" class="header-anchor">#</a> 3.12 包装对象(Wrapper Object)</h3> <ul><li>JavaScript 的类型分为两种：原始数据类型（Primitive data types）和对象类型（Object types）。</li> <li>所有的原始数据类型都没有属性（property）</li> <li>原始数据类型
<ul><li>布尔值</li> <li>数值</li> <li>字符串</li> <li>null</li> <li>undefined</li> <li>Symbol</li></ul></li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">'weisuoke'</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'weisuoke'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>当调用基本数据类型方法的时候，JavaScript 会在原始数据类型和对象类型之间做一个迅速的强制性切换</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> isOK<span class="token punctuation">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// 编译通过</span>
<span class="token keyword">let</span> isOK<span class="token punctuation">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// 编译通过</span>
<span class="token keyword">let</span> isOK<span class="token punctuation">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 编译失败   期望的 isOK 是一个原始数据类型</span>
</code></pre></div><h3 id="_3-13-联合类型"><a href="#_3-13-联合类型" aria-hidden="true" class="header-anchor">#</a> 3.13 联合类型</h3> <ul><li>联合类型上只能访问两个类型共有的属性和方法</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> name4<span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
name4 <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
name4 <span class="token operator">=</span> <span class="token string">'weisuoke'</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name4<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-14-类型断言"><a href="#_3-14-类型断言" aria-hidden="true" class="header-anchor">#</a> 3.14 类型断言</h3> <ul><li>类型断言可以将一个联合类型的变量，指定为一个更加具体的类型</li> <li>不能将联合类型断言为不存在的类型</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> name5<span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span>name5 <span class="token keyword">as</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span>name5 <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token punctuation">(</span>name5 <span class="token keyword">as</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-15-字符串、数字、布尔值字面量"><a href="#_3-15-字符串、数字、布尔值字面量" aria-hidden="true" class="header-anchor">#</a> 3.15 字符串、数字、布尔值字面量</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> Lucky <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token string">'One'</span> <span class="token operator">|</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> foo<span class="token punctuation">:</span>Lucky <span class="token operator">=</span> <span class="token string">'One'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-16-字符串字面量-vs-联合类型"><a href="#_3-16-字符串字面量-vs-联合类型" aria-hidden="true" class="header-anchor">#</a> 3.16 字符串字面量 vs 联合类型</h3> <ul><li>字符串字面量类型用来约束取值只能是某<code>几个字符串</code>中的一个, 联合类型（Union Types）表示取值可以为<code>多种类型</code>中的一种</li> <li>字符串字面量 限定了使用该字面量的地方仅接受特定的值,联合类型 对于值并没有限定，仅仅限定值的类型需要保持一致</li></ul> <h2 id="_4-函数"><a href="#_4-函数" aria-hidden="true" class="header-anchor">#</a> 4. 函数</h2> <h3 id="_4-1-函数的定义"><a href="#_4-1-函数的定义" aria-hidden="true" class="header-anchor">#</a> 4.1 函数的定义</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span><span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">hello</span><span class="token punctuation">(</span><span class="token string">'weisuoke'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_4-2-函数表达式"><a href="#_4-2-函数表达式" aria-hidden="true" class="header-anchor">#</a> 4.2 函数表达式</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token function-variable function">GetUsernameFunction</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> getUsername<span class="token punctuation">:</span> <span class="token function-variable function">GetUsernameFunction</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">firstName<span class="token punctuation">,</span> lastName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> firstName <span class="token operator">+</span> lastName<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-3-没有返回值"><a href="#_4-3-没有返回值" aria-hidden="true" class="header-anchor">#</a> 4.3 没有返回值</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> <span class="token function-variable function">hello2</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello2'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">hello</span><span class="token punctuation">(</span><span class="token string">'weisuoke'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">hello2</span><span class="token punctuation">(</span><span class="token string">'weisuoke'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-4-可选参数"><a href="#_4-4-可选参数" aria-hidden="true" class="header-anchor">#</a> 4.4 可选参数</h3> <p>在TS中函数的形参和实参必须一样，不一样就要配置可选参数,而且必须是最后一个参数</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">?</span><span class="token punctuation">:</span><span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'weisuoke'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_4-5-默认参数"><a href="#_4-5-默认参数" aria-hidden="true" class="header-anchor">#</a> 4.5 默认参数</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">ajax</span><span class="token punctuation">(</span>url<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">,</span> method<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token operator">=</span><span class="token string">'GET'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span>method<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">ajax</span><span class="token punctuation">(</span><span class="token string">'/users'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_4-6-剩余参数"><a href="#_4-6-剩余参数" aria-hidden="true" class="header-anchor">#</a> 4.6 剩余参数</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>numbers<span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> numbers<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span>item</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>val<span class="token operator">+=</span>item<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_4-7-函数重载"><a href="#_4-7-函数重载" aria-hidden="true" class="header-anchor">#</a> 4.7 函数重载</h3> <ul><li>在Java中的重载，指的是两个或者两个以上的同名函数，参数不一样</li> <li>在TypeScript中，表现为给同一个函数提供多个函数类型定义</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> obj<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">attr</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">attr</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">attr</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">:</span><span class="token builtin">any</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> val <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        obj<span class="token punctuation">.</span>age<span class="token operator">=</span>val<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        obj<span class="token punctuation">.</span>name<span class="token operator">=</span>val<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'weisuoke'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">attr</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">attr</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_5-类"><a href="#_5-类" aria-hidden="true" class="header-anchor">#</a> 5. 类</h2> <h3 id="_5-1-如何定义类"><a href="#_5-1-如何定义类" aria-hidden="true" class="header-anchor">#</a> 5.1 如何定义类</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
    name<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
    <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">void</span><span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p1<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'weisuoke'</span><span class="token punctuation">;</span>
p1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_5-2-存取器"><a href="#_5-2-存取器" aria-hidden="true" class="header-anchor">#</a> 5.2 存取器</h3> <ul><li>在 TypeScript 中，我们可以通过存取器来改变一个类中属性的读取和赋值行为</li> <li>构造函数
<ul><li>主要用于初始化类的成员变量属性</li> <li>类的对象创建时自动调用执行</li> <li>没有返回值</li></ul></li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  myname<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter">myname<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>myname <span class="token operator">=</span> myname<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>myname<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">'weisuoke'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
user<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'jiagou'</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_5-3-参数属性"><a href="#_5-3-参数属性" aria-hidden="true" class="header-anchor">#</a> 5.3 参数属性</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">public</span> myname<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>myname<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>myname <span class="token operator">=</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">'weisuoke'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> 
user<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'jiagou'</span><span class="token punctuation">;</span> 
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_5-4-readonly"><a href="#_5-4-readonly" aria-hidden="true" class="header-anchor">#</a> 5.4 readonly</h4> <ul><li>readonly修饰的变量只能在<code>构造函数</code>中初始化</li> <li>在 TypeScript 中，const 是<code>常量</code>标志符，其值不能被重新分配</li> <li>TypeScript 的类型系统同样也允许将 interface、type、 class 上的属性标识为 readonly</li> <li>readonly 实际上只是在<code>编译</code>阶段进行代码检查。而 const 则会在<code>运行时</code>检查（在支持 const 语法的 JavaScript 运行时环境中）</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">readonly</span> name<span class="token punctuation">:</span> <span class="token builtin">string</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">changeName</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span><span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token string">'weisuoke'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span><span class="token function">changeName</span><span class="token punctuation">(</span><span class="token string">'jiagou'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_5-5-继承"><a href="#_5-5-继承" aria-hidden="true" class="header-anchor">#</a> 5.5 继承</h3> <ul><li>子类继承父类后子类的实例就拥有了父类中的属性和方法，可以增强代码的可复用性</li> <li>将子类公用的方法抽象出来放在父类中，自己的特殊逻辑放在子类中重写父类的逻辑</li> <li>super可以调用父类上的方法和属性</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>	<span class="token comment">// 定义实例的属性，默认省略public修饰符</span>
  age<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>	<span class="token comment">// 构造函数</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">setName</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  no<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> no<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>no <span class="token operator">=</span> no<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">getNo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>no<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">'weisuoke'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_5-6-类里面的修饰符"><a href="#_5-6-类里面的修饰符" aria-hidden="true" class="header-anchor">#</a> 5.6 类里面的修饰符</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Father</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>	<span class="token comment">// 类里面 子类 其它任何地方外边都可以访问</span>
  <span class="token keyword">protected</span> age<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>	<span class="token comment">// 类里面 子类 都可以访问,其它任何地方不能访问</span>
  <span class="token keyword">private</span> money<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>	<span class="token comment">// 类里面可以访问， 子类和其它任何地方都不可以访问</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> money<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>	<span class="token comment">// 构造函数</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>money <span class="token operator">=</span> money<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
  <span class="token punctuation">}</span>
  <span class="token function">setName</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token keyword">extends</span> <span class="token class-name">Father</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> money<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">desc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>money<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> child <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token string">'weisuoke'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span>money<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_5-7-静态属性-静态方法"><a href="#_5-7-静态属性-静态方法" aria-hidden="true" class="header-anchor">#</a> 5.7 静态属性 静态方法</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Father</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> className<span class="token operator">=</span><span class="token string">'Father'</span><span class="token punctuation">;</span>
    <span class="token keyword">static</span> <span class="token function">getClassName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Father<span class="token punctuation">.</span>className<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span><span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//构造函数</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Father<span class="token punctuation">.</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Father<span class="token punctuation">.</span><span class="token function">getClassName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_5-8-抽象类"><a href="#_5-8-抽象类" aria-hidden="true" class="header-anchor">#</a> 5.8 抽象类</h3> <ul><li>抽象描述一种抽象的概念，无法被实例化，只能被继承</li> <li>无法创建抽象类的实例</li> <li>抽象方法不能在抽象类中实现，只能在抽象类的具体子类中实现，而且必须实现</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">abstract</span> Class Animal3 <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token keyword">abstract</span> <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">Animal3</span> <span class="token punctuation">{</span>
  <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'喵喵喵'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> cat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cat<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><table><thead><tr><th style="text-align:left;">访问控制修饰符</th> <th style="text-align:left;">private protected public</th></tr></thead> <tbody><tr><td style="text-align:left;">只读属性</td> <td style="text-align:left;">readonly</td></tr> <tr><td style="text-align:left;">静态属性</td> <td style="text-align:left;">static</td></tr> <tr><td style="text-align:left;">抽象类、抽象方法</td> <td style="text-align:left;">abstract</td></tr></tbody></table> <h3 id="_5-9-抽象类-vs-接口"><a href="#_5-9-抽象类-vs-接口" aria-hidden="true" class="header-anchor">#</a> 5.9 抽象类 vs 接口</h3> <ul><li>不同类之间公有的属性或方法，可以抽象成一个接口（Interfaces）</li> <li>而抽象类是供其他类继承的基类，抽象类不允许被实例化。抽象类中的抽象方法必须在子类中被实现</li> <li>抽象类本质是一个无法被实例化的类，其中能够实现方法和初始化属性，而接口仅能够用于描述,既不提供方法的实现，也不为属性进行初始化</li> <li>一个类可以继承一个类或抽象类，但可以实现（implements）多个接口</li> <li>抽象类也可以实现接口</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">abstract</span> <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Flying</span> <span class="token punctuation">{</span>
  <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Duck</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token keyword">implements</span> <span class="token class-name">Flying</span> <span class="token punctuation">{</span>
  <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'汪汪汪'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我会飞'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> duck <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Duck</span><span class="token punctuation">(</span><span class="token string">'weisuoke'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
duck<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
duck<span class="token punctuation">.</span><span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_5-10-抽象方法"><a href="#_5-10-抽象方法" aria-hidden="true" class="header-anchor">#</a> 5.10 抽象方法</h3> <ul><li>抽象类和方法不包含具体实现，必须在子类中实现</li> <li>抽象方法只能出现在抽象类中</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
    <span class="token keyword">abstract</span> <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span>  <span class="token class-name">Animal</span><span class="token punctuation">{</span>
    <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'小狗汪汪汪'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span>  <span class="token class-name">Animal</span><span class="token punctuation">{</span>
    <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'小猫喵喵喵'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> dog<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> cat<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dog<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cat<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_5-11-重写-override-vs-重载-overload"><a href="#_5-11-重写-override-vs-重载-overload" aria-hidden="true" class="header-anchor">#</a> 5.11 重写(override) vs 重载(overload)</h3> <ul><li>重写是指子类重写继承自父类中的方法</li> <li>重载是指为同一个函数提供多个类型定义</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Cat6</span> <span class="token keyword">extends</span> <span class="token class-name">Animal6</span><span class="token punctuation">{</span>
    <span class="token function">speak</span><span class="token punctuation">(</span>word<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'Cat:'</span><span class="token operator">+</span>word<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> cat6 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat6</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cat6<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">double</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">:</span><span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token builtin">number</span>
<span class="token keyword">function</span> <span class="token function">double</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">:</span><span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token builtin">string</span>
<span class="token keyword">function</span> <span class="token function">double</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">:</span><span class="token builtin">any</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token builtin">any</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> val <span class="token operator">==</span> <span class="token string">'number'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> val <span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> val <span class="token operator">+</span> val<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> r <span class="token operator">=</span> <span class="token function">double</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_5-12-继承-vs-多态"><a href="#_5-12-继承-vs-多态" aria-hidden="true" class="header-anchor">#</a> 5.12 继承 vs 多态</h3> <ul><li>继承（Inheritance）子类继承父类，子类除了拥有父类的所有特性外，还有一些更具体的特性</li> <li>多态（Polymorphism）由继承而产生了相关的不同的类，对同一个方法可以有不同的响应</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Animal7</span><span class="token punctuation">{</span>
    <span class="token function">speak</span><span class="token punctuation">(</span>word<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'Animal: '</span><span class="token operator">+</span>word<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Cat7</span> <span class="token keyword">extends</span> <span class="token class-name">Animal7</span><span class="token punctuation">{</span>
    <span class="token function">speak</span><span class="token punctuation">(</span>word<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'Cat:'</span><span class="token operator">+</span>word<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Dog7</span> <span class="token keyword">extends</span> <span class="token class-name">Animal7</span><span class="token punctuation">{</span>
    <span class="token function">speak</span><span class="token punctuation">(</span>word<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'Dog:'</span><span class="token operator">+</span>word<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> cat7 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat7</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cat7<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> dog7 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog7</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dog7<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_6-接口"><a href="#_6-接口" aria-hidden="true" class="header-anchor">#</a> 6. 接口</h2> <ul><li>接口一方面可以在面向对象编程中表示为<code>行为的抽象</code>，另外可以用来描述<code>对象的形状</code></li> <li>接口就是把一些类中共有的属性和方法抽象出来,可以用来约束实现此接口的类</li> <li>一个类可以继承另一个类并实现多个接口</li> <li>接口像插件一样是用来增强类的，而抽象类是具体类的抽象概念</li> <li>一个类可以实现多个接口，一个接口也可以被多个类实现，但一个类的可以有多个子类，但只能有一个父类</li></ul> <h3 id="_6-1-接口"><a href="#_6-1-接口" aria-hidden="true" class="header-anchor">#</a> 6.1 接口</h3> <ul><li>interface中可以用分号或者逗号分割每一项，也可以什么都不加</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">//接口可以用来描述`对象的形状`,少属性或者多属性都会报错</span>
<span class="token keyword">interface</span> <span class="token class-name">Speakable</span><span class="token punctuation">{</span>
  <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">void</span><span class="token punctuation">;</span>
  name<span class="token operator">?</span><span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">;</span><span class="token comment">//？表示可选属性</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> speakman<span class="token punctuation">:</span>Speakable <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">;</span><span class="token comment">//多属性也会报错</span>
  <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token comment">//少属性会报错</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">//接口可以在面向对象编程中表示为行为的抽象</span>
<span class="token keyword">interface</span> <span class="token class-name">Speakable</span><span class="token punctuation">{</span>
    <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Eatable</span><span class="token punctuation">{</span>
    <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">void</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Person5</span> <span class="token keyword">implements</span> <span class="token class-name">Speakable</span><span class="token punctuation">,</span>Eatable<span class="token punctuation">{</span>
    <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Person5说话'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">TangDuck</span> <span class="token keyword">implements</span> <span class="token class-name">Speakable</span><span class="token punctuation">{</span>
    <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'TangDuck说话'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">//无法预先知道有哪些新的属性的时候,可以使用 `[propName:string]:any`,propName名字是任意的</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> id<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token punctuation">[</span>propName<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>
  name<span class="token punctuation">:</span><span class="token string">'weisuoke'</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span><span class="token number">10</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_6-2-接口的继承"><a href="#_6-2-接口的继承" aria-hidden="true" class="header-anchor">#</a> 6.2 接口的继承</h3> <ul><li>一个接口可以继承自另外一个接口</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Speakable</span><span class="token punctuation">{</span>
  <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">void</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">SpeakChinese</span> <span class="token keyword">extends</span> <span class="token class-name">Speakable</span><span class="token punctuation">{</span>
  <span class="token function">speakChinese</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">void</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Person5</span> <span class="token keyword">implements</span> <span class="token class-name">SpeakChinese</span><span class="token punctuation">{</span>
  <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Person5'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">speakChinese</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'speakChinese'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_6-3-readonly"><a href="#_6-3-readonly" aria-hidden="true" class="header-anchor">#</a> 6.3 readonly</h3> <ul><li>用 readonly 定义只读属性可以避免由于多人协作或者项目较为复杂等因素造成对象的值被重写</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> id<span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>
  name<span class="token punctuation">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> tom<span class="token punctuation">:</span>Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  id <span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>
  name<span class="token punctuation">:</span><span class="token string">'weisuoke'</span>
<span class="token punctuation">}</span>
tom<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_6-4-函数类型接口"><a href="#_6-4-函数类型接口" aria-hidden="true" class="header-anchor">#</a> 6.4 函数类型接口</h3> <ul><li>对方法传入的参数和返回值进行约束</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">discount</span><span class="token punctuation">{</span>
  <span class="token punctuation">(</span>price<span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> cost<span class="token punctuation">:</span><span class="token function-variable function">discount</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">price<span class="token punctuation">:</span><span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">{</span>
   <span class="token keyword">return</span> price <span class="token operator">*</span> <span class="token number">.8</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_6-5-可索引接口"><a href="#_6-5-可索引接口" aria-hidden="true" class="header-anchor">#</a> 6.5 可索引接口</h3> <ul><li>对数组和对象进行约束</li> <li>userInterface 表示：只要 index 的类型是 number，那么值的类型必须是 string</li> <li>UserInterface2 表示：只要 index 的类型是 string，那么值的类型必须是 string</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">UserInterface</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>index<span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> arr<span class="token punctuation">:</span>UserInterface <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'weisuoke1'</span><span class="token punctuation">,</span><span class="token string">'weisuoke2'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">UserInterface2</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>index<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> obj<span class="token punctuation">:</span>UserInterface2 <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'weisuoke'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_6-6-类接口"><a href="#_6-6-类接口" aria-hidden="true" class="header-anchor">#</a> 6.6 类接口</h3> <ul><li>对类的约束</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Speakable</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function">speak</span><span class="token punctuation">(</span>words<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">void</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">implements</span> <span class="token class-name">Speakable</span><span class="token punctuation">{</span>
   name<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
   <span class="token function">speak</span><span class="token punctuation">(</span><span class="token parameter">words</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>words<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> dog<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dog<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token string">'汪汪汪'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_6-7-构造函数的类型"><a href="#_6-7-构造函数的类型" aria-hidden="true" class="header-anchor">#</a> 6.7 构造函数的类型</h3> <ul><li>在 TypeScript 中，我们可以用 interface 来描述类</li> <li>同时也可以使用interface里特殊的new()关键字来描述类的构造函数类型</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">public</span> name<span class="token punctuation">:</span><span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">WithNameClass</span><span class="token punctuation">{</span>
  <span class="token keyword">new</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span>Animal
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">createAnimal</span><span class="token punctuation">(</span><span class="token parameter">clazz<span class="token punctuation">:</span>WithNameClass<span class="token punctuation">,</span>name<span class="token punctuation">:</span><span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">clazz</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token function">createAnimal</span><span class="token punctuation">(</span>Animal<span class="token punctuation">,</span><span class="token string">'zhufeng'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_7-泛型"><a href="#_7-泛型" aria-hidden="true" class="header-anchor">#</a> 7. 泛型</h2> <ul><li><p>泛型（Generics）是指在定义函数、接口或类的时候，不预先指定具体的类型，而在使用的时候再指定类型的一种特性</p></li> <li><p>泛型<code>T</code>作用域只限于函数内部使用</p></li></ul> <h3 id="_7-1-泛型函数"><a href="#_7-1-泛型函数" aria-hidden="true" class="header-anchor">#</a> 7.1 泛型函数</h3> <ul><li>首先，我们来实现一个函数 createArray，它可以创建一个指定长度的数组，同时将每一项都填充一个默认值</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">createArray</span><span class="token punctuation">(</span><span class="token parameter">length<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token builtin">any</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result<span class="token punctuation">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">createArray</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'x'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">createArray</span><span class="token punctuation">(</span><span class="token parameter">length<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token builtin">any</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result<span class="token punctuation">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">createArray</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'x'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> createArray2<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>length<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> result2 <span class="token operator">=</span> createArray2<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'x'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_7-2-类数组"><a href="#_7-2-类数组" aria-hidden="true" class="header-anchor">#</a> 7.2 类数组</h3> <ul><li>类数组（Array-like Object）不是数组类型，比如 <code>arguments</code></li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>parameters<span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">let</span> args<span class="token punctuation">:</span>IArguments <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>args<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> root <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> children<span class="token punctuation">:</span>HTMLCollection <span class="token operator">=</span> root<span class="token punctuation">.</span>children<span class="token punctuation">;</span>
children<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token keyword">let</span> nodeList<span class="token punctuation">:</span>NodeList <span class="token operator">=</span> root<span class="token punctuation">.</span>childNodes<span class="token punctuation">;</span>
nodeList<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
</code></pre></div><h3 id="_7-3-泛型类"><a href="#_7-3-泛型类" aria-hidden="true" class="header-anchor">#</a> 7.3 泛型类</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">MyArray</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> list<span class="token punctuation">:</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">:</span><span class="token constant">T</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">getMax</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token constant">T</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> result<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&gt;</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                result<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> arr<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">MyArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> arr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> arr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> ret <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">getMax</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_7-4-泛型接口"><a href="#_7-4-泛型接口" aria-hidden="true" class="header-anchor">#</a> 7.4 泛型接口</h3> <ul><li>泛型接口可以用来约束函数</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Calculate</span><span class="token punctuation">{</span>
  <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>a<span class="token punctuation">:</span><span class="token constant">T</span><span class="token punctuation">,</span>b<span class="token punctuation">:</span><span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token constant">T</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> add<span class="token punctuation">:</span><span class="token function-variable function">Calculate</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>a<span class="token punctuation">:</span><span class="token constant">T</span><span class="token punctuation">,</span>b<span class="token punctuation">:</span><span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> a<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
add<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_7-5-多个类型参数"><a href="#_7-5-多个类型参数" aria-hidden="true" class="header-anchor">#</a> 7.5 多个类型参数</h3> <ul><li>泛型可以有多个</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> swap<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token punctuation">,</span><span class="token constant">B</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>tuple<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token constant">A</span><span class="token punctuation">,</span><span class="token constant">B</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token constant">B</span><span class="token punctuation">,</span><span class="token constant">A</span><span class="token punctuation">]</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>tuple<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>tuple<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> swapped <span class="token operator">=</span> swap<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>swapped<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>swapped<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>swapped<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_7-6-默认泛型类型"><a href="#_7-6-默认泛型类型" aria-hidden="true" class="header-anchor">#</a> 7.6 默认泛型类型</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> createArray3<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">=</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>length<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> result2 <span class="token operator">=</span> <span class="token function">createArray3</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'x'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_7-7-泛型约束"><a href="#_7-7-泛型约束" aria-hidden="true" class="header-anchor">#</a> 7.7 泛型约束</h3> <ul><li>在函数中使用泛型的时候，由于预先并不知道泛型的类型，所以不能随意访问相应类型的属性或方法。</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> logger<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>val<span class="token punctuation">:</span><span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">LengthWise</span><span class="token punctuation">{</span>
  length<span class="token punctuation">:</span><span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token comment">//可以让泛型继承一个接口</span>
<span class="token keyword">function</span> logger2<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">LengthWise</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>val<span class="token punctuation">:</span><span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">logger2</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">logger2</span><span class="token punctuation">(</span><span class="token string">'weisuoke'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_7-8-泛型接口"><a href="#_7-8-泛型接口" aria-hidden="true" class="header-anchor">#</a> 7.8 泛型接口</h3> <ul><li>定义接口的时候也可以指定泛型</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Cart</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>
  list<span class="token punctuation">:</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> cart<span class="token punctuation">:</span>Cart<span class="token operator">&lt;</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>price<span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">}</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  list<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'zhufeng'</span><span class="token punctuation">,</span>price<span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cart<span class="token punctuation">.</span>list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span>cart<span class="token punctuation">.</span>list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>price<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_7-9-泛型类型别名"><a href="#_7-9-泛型类型别名" aria-hidden="true" class="header-anchor">#</a> 7.9 泛型类型别名</h3> <ul><li>泛型类型别名可以表达更复杂的类型</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> Cart<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>list<span class="token punctuation">:</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span> <span class="token operator">|</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> c1<span class="token punctuation">:</span>Cart<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>list<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> c2<span class="token punctuation">:</span>Cart<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_7-10-泛型接口-vs-泛型类型别名"><a href="#_7-10-泛型接口-vs-泛型类型别名" aria-hidden="true" class="header-anchor">#</a> 7.10 泛型接口 vs 泛型类型别名</h3> <ul><li>接口创建了一个新的名字，它可以在其他任意地方被调用。而类型别名并不创建新的名字，例如报错信息就不会使用别名</li> <li>类型别名不能被 extends和 implements,这时我们应该尽量使用接口代替类型别名</li> <li>当我们需要使用联合类型或者元组类型的时候，类型别名会更合适</li></ul> <h2 id="_8-结构系统类型"><a href="#_8-结构系统类型" aria-hidden="true" class="header-anchor">#</a> 8. 结构系统类型</h2> <h3 id="_8-1-接口的兼容性"><a href="#_8-1-接口的兼容性" aria-hidden="true" class="header-anchor">#</a> 8.1 接口的兼容性</h3> <ul><li>如果传入的变量和声明的类型不匹配，TS就会进行兼容性检查</li> <li>原理是<code>Duck-Check</code>,就是说只要目标类型中声明的属性变量在源类型中都存在就是兼容的</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>
  gender<span class="token punctuation">:</span><span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> a1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span><span class="token string">'weisuoke'</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">,</span>
  gender<span class="token punctuation">:</span><span class="token number">0</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token punctuation">:</span><span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token comment">////- 要判断目标类型`Person`是否能够兼容输入的源类型`Animal`</span>
<span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token parameter">p<span class="token punctuation">:</span>Person</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> p<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">getName</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//只有在传参的时候两个变量之间才会进行兼容性的比较，赋值的时候并不会比较,会直接报错</span>
<span class="token keyword">let</span> x<span class="token punctuation">:</span>Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span><span class="token string">'weisuoke'</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">,</span>
  gender<span class="token punctuation">:</span><span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_8-2-基本类型的兼容性"><a href="#_8-2-基本类型的兼容性" aria-hidden="true" class="header-anchor">#</a> 8.2 基本类型的兼容性</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">//基本数据类型也有兼容性判断</span>
<span class="token keyword">let</span> num <span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token operator">|</span><span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> str<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
num <span class="token operator">=</span> str<span class="token punctuation">;</span>

<span class="token comment">//只要有toString()方法</span>
<span class="token keyword">let</span> num2 <span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> str2<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
num2 <span class="token operator">=</span> str2<span class="token punctuation">;</span>
</code></pre></div><h3 id="_8-3-类的兼容性"><a href="#_8-3-类的兼容性" aria-hidden="true" class="header-anchor">#</a> 8.3 类的兼容性</h3> <ul><li>在TS中是结构类型系统，只会对比结构而不在意类形</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
    name<span class="token punctuation">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Bird</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
   swing<span class="token punctuation">:</span><span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> a<span class="token punctuation">:</span>Animal<span class="token punctuation">;</span>
a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bird</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> b<span class="token punctuation">:</span>Bird<span class="token punctuation">;</span>
<span class="token comment">//并不是父类兼容子类，子类不兼容父类</span>
b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token comment">//如果父类和子类结构一样，也可以的</span>
<span class="token keyword">class</span> <span class="token class-name">Bird</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">let</span> a<span class="token punctuation">:</span>Animal<span class="token punctuation">;</span>
a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bird</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> b<span class="token punctuation">:</span>Bird<span class="token punctuation">;</span>
b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">//甚至没有关系的两个类的实例也是可以的</span>
<span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Bird</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> a<span class="token punctuation">:</span>Animal <span class="token punctuation">;</span>
a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bird</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b<span class="token punctuation">:</span>Bird<span class="token punctuation">;</span>
b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_8-4-函数的兼容性"><a href="#_8-4-函数的兼容性" aria-hidden="true" class="header-anchor">#</a> 8.4 函数的兼容性</h3> <ul><li>比较函数的时候是要先比较函数的参数，再比较函数的返回值</li> <li>参数可以省略</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token function-variable function">sumFunc</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>b<span class="token punctuation">:</span><span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> sum<span class="token punctuation">:</span>sumFunc<span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>b<span class="token punctuation">:</span><span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
sum <span class="token operator">=</span> f1<span class="token punctuation">;</span>
<span class="token comment">//可以省略一个参数</span>
<span class="token keyword">function</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span><span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">{</span>
   <span class="token keyword">return</span> a<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
sum <span class="token operator">=</span> f2<span class="token punctuation">;</span>
<span class="token comment">//可以省略二个参数</span>
<span class="token keyword">function</span> <span class="token function">f3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 sum <span class="token operator">=</span> f3<span class="token punctuation">;</span>
 <span class="token comment">//多一个参数可不行</span>
<span class="token keyword">function</span> <span class="token function">f4</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>b<span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>c<span class="token punctuation">:</span><span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token operator">+</span>c<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
sum <span class="token operator">=</span> f4<span class="token punctuation">;</span>
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token function-variable function">GetPerson</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> getPerson<span class="token punctuation">:</span>GetPerson<span class="token punctuation">;</span>
<span class="token comment">//参数一样可以</span>
<span class="token keyword">function</span> <span class="token function">g1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'weisuoke'</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
getPerson <span class="token operator">=</span> g1<span class="token punctuation">;</span>
<span class="token comment">//多一个属性也可以</span>
<span class="token keyword">function</span> <span class="token function">g2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'weisuoke'</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">,</span>gender<span class="token punctuation">:</span><span class="token string">'male'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
getPerson <span class="token operator">=</span> g2<span class="token punctuation">;</span>
<span class="token comment">//少一个属性不行</span>
<span class="token keyword">function</span> <span class="token function">g3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'weisuoke'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
getPerson <span class="token operator">=</span> g3<span class="token punctuation">;</span>
<span class="token comment">//因为有可能要调用返回值上的方法</span>
<span class="token function">getPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>age<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_8-5-函数参数的双向协变"><a href="#_8-5-函数参数的双向协变" aria-hidden="true" class="header-anchor">#</a> 8.5 函数参数的双向协变</h3> <ul><li>函数的参数中目标兼容源，或者源兼容目标都可以，只要有一个成立就可以</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token function-variable function">LogFunc</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span><span class="token builtin">number</span><span class="token operator">|</span><span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> log<span class="token punctuation">:</span>LogFunc<span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">log1</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span><span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//在这里定义的参数类型兼容实际的参数类型</span>
log <span class="token operator">=</span> log1<span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">log2</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span><span class="token builtin">number</span><span class="token operator">|</span><span class="token builtin">string</span><span class="token operator">|</span><span class="token builtin">boolean</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//在这里实际的参数类型兼容定义的参数类型</span>
log <span class="token operator">=</span> log2<span class="token punctuation">;</span>
</code></pre></div><h3 id="_8-6-泛型的兼容性"><a href="#_8-6-泛型的兼容性" aria-hidden="true" class="header-anchor">#</a> 8.6 泛型的兼容性</h3> <ul><li>泛型在判断兼容性的时候会先判断具体的类型,然后再进行兼容性判断</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">//接口内容为空没用到泛型的时候是可以的</span>
<span class="token keyword">interface</span> <span class="token class-name">Empty</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> x<span class="token punctuation">:</span>Empty<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> y<span class="token punctuation">:</span>Empty<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
x <span class="token operator">=</span> y<span class="token punctuation">;</span>

<span class="token comment">//接口内容不为空的时候不可以</span>
<span class="token keyword">interface</span> <span class="token class-name">NotEmpty</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>
  data<span class="token punctuation">:</span><span class="token constant">T</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> x1<span class="token punctuation">:</span>NotEmpty<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> y1<span class="token punctuation">:</span>NotEmpty<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
x1 <span class="token operator">=</span> y1<span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">NotEmptyString</span><span class="token punctuation">{</span>
    data<span class="token punctuation">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">NotEmptyNumber</span><span class="token punctuation">{</span>
    data<span class="token punctuation">:</span><span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> xx3<span class="token punctuation">:</span>NotEmptyString<span class="token punctuation">;</span>
<span class="token keyword">let</span> yy3<span class="token punctuation">:</span>NotEmptyNumber<span class="token punctuation">;</span>
xx3 <span class="token operator">=</span> yy3<span class="token punctuation">;</span>
</code></pre></div><h3 id="_8-7-枚举的兼容性"><a href="#_8-7-枚举的兼容性" aria-hidden="true" class="header-anchor">#</a> 8.7 枚举的兼容性</h3> <ul><li>枚举类型与数字类型兼容，并且数字类型与枚举类型兼容</li> <li>不同枚举类型之间是不兼容的</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">//数字可以赋给枚举</span>
<span class="token keyword">enum</span> Colors <span class="token punctuation">{</span>Red<span class="token punctuation">,</span>Yellow<span class="token punctuation">}</span>
<span class="token keyword">let</span> c<span class="token punctuation">:</span>Colors<span class="token punctuation">;</span>
c <span class="token operator">=</span> Colors<span class="token punctuation">.</span>Red<span class="token punctuation">;</span>
c <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
c <span class="token operator">=</span> <span class="token string">'1'</span><span class="token punctuation">;</span>

<span class="token comment">//枚举值可以赋给数字</span>
<span class="token keyword">let</span> n<span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>
n <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
n <span class="token operator">=</span> Colors<span class="token punctuation">.</span>Red<span class="token punctuation">;</span>
</code></pre></div><h2 id="_9-类型保护"><a href="#_9-类型保护" aria-hidden="true" class="header-anchor">#</a> 9. 类型保护</h2> <h3 id="_9-1-typeof-类型保护"><a href="#_9-1-typeof-类型保护" aria-hidden="true" class="header-anchor">#</a> 9.1 typeof 类型保护</h3> <ul><li>类型保护就是一些表达式，他们在编译的时候就能通过类型信息确保某个作用域内变量的类型</li> <li>类型保护就是能够通过关键字判断出分支中的类型</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">double</span><span class="token punctuation">(</span><span class="token parameter">input<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token operator">|</span><span class="token builtin">number</span><span class="token operator">|</span><span class="token builtin">boolean</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> input <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> input <span class="token operator">+</span> input<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> input <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> input<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token operator">!</span>input<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_9-2-instanceof类型保护"><a href="#_9-2-instanceof类型保护" aria-hidden="true" class="header-anchor">#</a> 9.2 instanceof类型保护</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Bird</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
  swing<span class="token punctuation">:</span><span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token parameter">animal<span class="token punctuation">:</span>Animal</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>animal <span class="token keyword">instanceof</span> <span class="token class-name">Bird</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>animal<span class="token punctuation">.</span>swing<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>animal<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_9-3-null保护"><a href="#_9-3-null保护" aria-hidden="true" class="header-anchor">#</a> 9.3 null保护</h3> <ul><li>如果开启了<code>strictNullChecks</code>选项，那么对于可能为null的变量不能调用它上面的方法和属性</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">getFirstLetter</span><span class="token punctuation">(</span><span class="token parameter">s<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token operator">|</span><span class="token keyword">null</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">//第一种方式是加上null判断</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>s <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//第二种处理是增加一个或的处理</span>
  s <span class="token operator">=</span> s <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> s<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//它并不能处理一些复杂的判断，需要加链判断运算符</span>
<span class="token keyword">function</span> <span class="token function">getFirstLetter2</span><span class="token punctuation">(</span><span class="token parameter">s<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token operator">|</span><span class="token keyword">null</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    s <span class="token operator">=</span> s <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> s<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_9-4-链判断运算符"><a href="#_9-4-链判断运算符" aria-hidden="true" class="header-anchor">#</a> 9.4 链判断运算符</h3> <ul><li>链判断运算符是一种先检查属性是否存在，再尝试访问该属性的运算符，其符号为 ?.</li> <li>如果运算符左侧的操作数 ?. 计算为 undefined 或 null，则表达式求值为 undefined 。否则，正常触发目标属性访问，方法或函数调用。</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code>a<span class="token operator">?</span><span class="token punctuation">.</span>b<span class="token punctuation">;</span> <span class="token comment">//如果a是null/undefined,那么返回undefined，否则返回a.b的值.</span>
a <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> undefined <span class="token punctuation">:</span> a<span class="token punctuation">.</span>b<span class="token punctuation">;</span>

a<span class="token operator">?</span><span class="token punctuation">.</span><span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//如果a是null/undefined,那么返回undefined，否则返回a[x]的值</span>
a <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> undefined <span class="token punctuation">:</span> a<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>

a<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 如果a是null/undefined,那么返回undefined</span>
a <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> undefined <span class="token punctuation">:</span> a<span class="token punctuation">.</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//如果a.b不函数的话抛类型错误异常,否则计算a.b()的结果</span>

a<span class="token operator">?</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//如果a是null/undefined,那么返回undefined</span>
a <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> undefined <span class="token punctuation">:</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//如果A不是函数会抛出类型错误</span>
<span class="token comment">//否则 调用a这个函数</span>
</code></pre></div><h3 id="_9-5-可辨识的联合类型"><a href="#_9-5-可辨识的联合类型" aria-hidden="true" class="header-anchor">#</a> 9.5 可辨识的联合类型</h3> <ul><li>就是利用联合类型中的共有字段进行类型保护的一种技巧</li> <li>相同字段的不同取值就是可辨识</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">WarningButton</span><span class="token punctuation">{</span>
  <span class="token keyword">class</span><span class="token punctuation">:</span><span class="token string">'warning'</span><span class="token punctuation">,</span>
  text1<span class="token punctuation">:</span><span class="token string">'修改'</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">DangerButton</span><span class="token punctuation">{</span>
  <span class="token keyword">class</span><span class="token punctuation">:</span><span class="token string">'danger'</span><span class="token punctuation">,</span>
  text2<span class="token punctuation">:</span><span class="token string">'删除'</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> Button <span class="token operator">=</span> WarningButton<span class="token operator">|</span>DangerButton<span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">getButton</span><span class="token punctuation">(</span><span class="token parameter">button<span class="token punctuation">:</span>Button</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token keyword">if</span><span class="token punctuation">(</span>button<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token operator">==</span><span class="token string">'warning'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>button<span class="token punctuation">.</span>text1<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">if</span><span class="token punctuation">(</span>button<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token operator">==</span><span class="token string">'danger'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>button<span class="token punctuation">.</span>text2<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_9-6-in操作符"><a href="#_9-6-in操作符" aria-hidden="true" class="header-anchor">#</a> 9.6 in操作符</h3> <ul><li>in 运算符可以被用于参数类型的判断</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Bird</span> <span class="token punctuation">{</span>
    swing<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
    leg<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getNumber</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> Bird <span class="token operator">|</span> Dog</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;swing&quot;</span> <span class="token keyword">in</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> x<span class="token punctuation">.</span>swing<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> x<span class="token punctuation">.</span>leg<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_9-7-自定义的类型保护"><a href="#_9-7-自定义的类型保护" aria-hidden="true" class="header-anchor">#</a> 9.7 自定义的类型保护</h3> <ul><li>TypeScript 里的类型保护本质上就是一些表达式，它们会在运行时检查类型信息，以确保在某个作用域里的类型是符合预期的</li> <li>要自定义一个类型保护，只需要简单地为这个类型保护定义一个函数即可，这个函数的返回值是一个类型谓词</li> <li>类型谓词的语法为 <code>parameterName is Type</code> 这种形式，其中 <code>parameterName</code> 必须是当前函数签名里的一个参数名`</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Bird</span> <span class="token punctuation">{</span>
  swing<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
  leg<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//没有相同字段可以定义一个类型保护函数</span>
<span class="token keyword">function</span> <span class="token function">isBird</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span>Bird<span class="token operator">|</span>Dog</span><span class="token punctuation">)</span><span class="token punctuation">:</span> x <span class="token keyword">is</span> Bird<span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>Bird<span class="token operator">&gt;</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span>swing <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>x <span class="token keyword">as</span> Bird<span class="token punctuation">)</span><span class="token punctuation">.</span>swing <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">getAnimal</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> Bird <span class="token operator">|</span> Dog</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isBird</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x<span class="token punctuation">.</span>swing<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> x<span class="token punctuation">.</span>leg<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_10-类型变换"><a href="#_10-类型变换" aria-hidden="true" class="header-anchor">#</a> 10 类型变换</h2> <h3 id="_10-1-交叉类型"><a href="#_10-1-交叉类型" aria-hidden="true" class="header-anchor">#</a> 10. 1 交叉类型</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Bird</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>
  <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">void</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
 name<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>
 <span class="token function">talk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">void</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> BirdPerson <span class="token operator">=</span> Bird <span class="token operator">&amp;</span> Person<span class="token punctuation">;</span>
<span class="token keyword">let</span> p<span class="token punctuation">:</span>BirdPerson <span class="token operator">=</span> <span class="token punctuation">{</span> 
  name<span class="token punctuation">:</span><span class="token string">'weisuoke'</span><span class="token punctuation">,</span>
  <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">talk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

p<span class="token punctuation">.</span>fly<span class="token punctuation">;</span>
p<span class="token punctuation">.</span>name
p<span class="token punctuation">.</span>talk<span class="token punctuation">;</span>
</code></pre></div><h3 id="_10-2-typeof"><a href="#_10-2-typeof" aria-hidden="true" class="header-anchor">#</a> 10.2 typeof</h3> <ul><li>可以获取一个变量的类型</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">//先定义类型，再定义变量</span>
<span class="token keyword">type</span> People <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>
    age<span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>
    gender<span class="token punctuation">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p1<span class="token punctuation">:</span>People <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span><span class="token string">'weisuoke'</span><span class="token punctuation">,</span>
    age<span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">,</span>
    gender<span class="token punctuation">:</span><span class="token string">'male'</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">//先定义变量，再定义类型</span>
<span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span><span class="token string">'weisuoke'</span><span class="token punctuation">,</span>
    age<span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">,</span>
    gender<span class="token punctuation">:</span><span class="token string">'male'</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> People <span class="token operator">=</span> <span class="token keyword">typeof</span> p1<span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token parameter">p<span class="token punctuation">:</span>People</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> p<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_10-3-索引访问操作符"><a href="#_10-3-索引访问操作符" aria-hidden="true" class="header-anchor">#</a> 10.3 索引访问操作符</h3> <ul><li>可以通过[]获取一个类型的子类型</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
    name<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
    age<span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>
    job<span class="token punctuation">:</span><span class="token punctuation">{</span>
        name<span class="token punctuation">:</span><span class="token builtin">string</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    interests<span class="token punctuation">:</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>level<span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> FrontEndJob<span class="token punctuation">:</span>Person<span class="token punctuation">[</span><span class="token string">'job'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span><span class="token string">'前端工程师'</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> interestLevel<span class="token punctuation">:</span>Person<span class="token punctuation">[</span><span class="token string">'interests'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'level'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_10-4-keyof"><a href="#_10-4-keyof" aria-hidden="true" class="header-anchor">#</a> 10.4 keyof</h3> <ul><li>索引类型查询操作符</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>
  gender<span class="token punctuation">:</span><span class="token string">'male'</span><span class="token operator">|</span><span class="token string">'female'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//type PersonKey = 'name'|'age'|'gender';</span>
<span class="token keyword">type</span> PersonKey <span class="token operator">=</span> <span class="token keyword">keyof</span> Person<span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">getValueByKey</span><span class="token punctuation">(</span><span class="token parameter">p<span class="token punctuation">:</span>Person<span class="token punctuation">,</span>key<span class="token punctuation">:</span>PersonKey</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> p<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> val <span class="token operator">=</span> <span class="token function">getValueByKey</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'weisuoke'</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">,</span>gender<span class="token punctuation">:</span><span class="token string">'male'</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_10-5-映射类型"><a href="#_10-5-映射类型" aria-hidden="true" class="header-anchor">#</a> 10.5 映射类型</h3> <ul><li>在定义的时候用in操作符去批量定义类型中的属性</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>
  gender<span class="token punctuation">:</span><span class="token string">'male'</span><span class="token operator">|</span><span class="token string">'female'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//批量把一个接口中的属性都变成可选的</span>
<span class="token keyword">type</span> PartPerson <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>Key <span class="token keyword">in</span> <span class="token keyword">keyof</span> Person<span class="token punctuation">]</span><span class="token operator">?</span><span class="token punctuation">:</span>Person<span class="token punctuation">[</span>Key<span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> p1<span class="token punctuation">:</span>PartPerson<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//也可以使用泛型</span>
<span class="token keyword">type</span> Part<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>key <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token punctuation">:</span><span class="token constant">T</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p2<span class="token punctuation">:</span>Part<span class="token operator">&lt;</span>Person<span class="token operator">&gt;=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_10-6-内置工具类型"><a href="#_10-6-内置工具类型" aria-hidden="true" class="header-anchor">#</a> 10.6 内置工具类型</h3> <ul><li>TS 中内置了一些工具类型来帮助我们更好地使用类型系统</li></ul> <h4 id="_10-6-1-partial"><a href="#_10-6-1-partial" aria-hidden="true" class="header-anchor">#</a> 10.6.1 Partial</h4> <ul><li>Partial 可以将传入的属性由非可选变为可选，具体使用如下：</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> Partial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  a1<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  a2<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  a3<span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> aPartial <span class="token operator">=</span> Partial<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> a<span class="token punctuation">:</span> aPartial <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 不会报错</span>
</code></pre></div><h4 id="_10-6-2-required"><a href="#_10-6-2-required" aria-hidden="true" class="header-anchor">#</a> 10.6.2 Required</h4> <ul><li>Required 可以将传入的属性中的可选项变为必选项，这里用了 -? 修饰符来实现。</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * Make all properties in T required
 */</span>
<span class="token keyword">type</span> Required<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">?</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>
  gender<span class="token operator">?</span><span class="token punctuation">:</span><span class="token string">'male'</span><span class="token operator">|</span><span class="token string">'female'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> p<span class="token punctuation">:</span>Required<span class="token operator">&lt;</span>Person<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span><span class="token string">'weisuoke'</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">,</span>
  <span class="token comment">//gender:'male'</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_10-6-3-readonly"><a href="#_10-6-3-readonly" aria-hidden="true" class="header-anchor">#</a> 10.6.3 Readonly</h4> <ul><li>Readonly 通过为传入的属性每一项都加上 readonly 修饰符来实现。</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * Make all properties in T readonly
 */</span>
<span class="token keyword">type</span> Readonly<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>
  gender<span class="token operator">?</span><span class="token punctuation">:</span><span class="token string">'male'</span><span class="token operator">|</span><span class="token string">'female'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p<span class="token punctuation">:</span>Readonly<span class="token operator">&lt;</span>Person<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span><span class="token string">'weisuoke'</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">,</span>
  gender<span class="token punctuation">:</span><span class="token string">'male'</span>
<span class="token punctuation">}</span>
p<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_10-6-4-pick"><a href="#_10-6-4-pick" aria-hidden="true" class="header-anchor">#</a> 10.6.4 Pick</h4> <ul><li>Pick 能够帮助我们从传入的属性中摘取某一项返回</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * From T pick a set of properties K
 */</span>
<span class="token keyword">type</span> Pick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token class-name">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 摘取 Animal 中的 name 属性</span>
<span class="token keyword">type</span> AnimalSub <span class="token operator">=</span> Pick<span class="token operator">&lt;</span>Animal<span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// { name: string; }</span>
</code></pre></div><h4 id="_10-6-5-映射类型修饰符的控制"><a href="#_10-6-5-映射类型修饰符的控制" aria-hidden="true" class="header-anchor">#</a> 10.6.5 映射类型修饰符的控制</h4> <ul><li>TypeScript中增加了对映射类型修饰符的控制</li> <li>具体而言，一个 <code>readonly</code> 或 <code>?</code> 修饰符在一个映射类型里可以用前缀 <code>+</code> 或<code>-</code>来表示这个修饰符应该被添加或移除</li> <li>TS 中部分内置工具类型就利用了这个特性（Partial、Required、Readonly...），这里我们可以参考 Partial、Required 的实现</li></ul> <h3 id="_10-7-条件类型"><a href="#_10-7-条件类型" aria-hidden="true" class="header-anchor">#</a> 10.7 条件类型</h3> <ul><li>在定义泛型的时候能够添加进逻辑分支，以后泛型更加灵活</li></ul> <h4 id="_10-7-1-定义条件类型"><a href="#_10-7-1-定义条件类型" aria-hidden="true" class="header-anchor">#</a> 10.7.1 定义条件类型</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Fish</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Water</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Bird</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Sky</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token comment">//三元运算符</span>
<span class="token keyword">type</span> Condition<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Fish</span><span class="token operator">?</span>Water<span class="token punctuation">:</span>Sky<span class="token punctuation">;</span>
<span class="token keyword">let</span> con<span class="token punctuation">:</span>Condition<span class="token operator">&lt;</span>Fish<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'水'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_10-7-2-条件类型的分发"><a href="#_10-7-2-条件类型的分发" aria-hidden="true" class="header-anchor">#</a> 10.7.2 条件类型的分发</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Fish</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Water</span><span class="token punctuation">{</span>
  name1<span class="token punctuation">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Bird</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Sky</span><span class="token punctuation">{</span>
  name2<span class="token punctuation">:</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token comment">//三元运算符</span>
<span class="token keyword">type</span> Condition<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Fish</span><span class="token operator">?</span>Water<span class="token punctuation">:</span>Sky<span class="token punctuation">;</span>
<span class="token keyword">let</span> con1<span class="token punctuation">:</span>Condition<span class="token operator">&lt;</span>Fish<span class="token operator">|</span>Water<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>name1<span class="token punctuation">:</span><span class="token string">'水'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> con2<span class="token punctuation">:</span>Condition<span class="token operator">&lt;</span>Fish<span class="token operator">|</span>Water<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>name2<span class="token punctuation">:</span><span class="token string">'水'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_10-7-3-内置条件类型"><a href="#_10-7-3-内置条件类型" aria-hidden="true" class="header-anchor">#</a> 10.7.3 内置条件类型</h4> <ul><li>TS 在内置了一些常用的条件类型，可以在 lib.es5.d.ts 中查看：</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code>Exclude<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span> <span class="token comment">// 从 T 可分配给的类型中排除 U。</span>
Extract<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span> <span class="token comment">// 从 T 可分配的类型中提取 U。</span>
NonNullable<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token comment">// 从 T 中排除 null 和 undefined。</span>
ReturnType<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token comment">// 获取函数类型的返回类型。</span>
InstanceType<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token comment">// 获取构造函数类型的实例类型。</span>
</code></pre></div><h5 id="_10-7-3-1-exclude"><a href="#_10-7-3-1-exclude" aria-hidden="true" class="header-anchor">#</a> 10.7.3.1 Exclude</h5> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span>  <span class="token constant">E</span> <span class="token operator">=</span> Exclude<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">|</span><span class="token builtin">number</span><span class="token punctuation">,</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> e<span class="token punctuation">:</span><span class="token constant">E</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="_10-7-3-2-extract"><a href="#_10-7-3-2-extract" aria-hidden="true" class="header-anchor">#</a> 10.7.3.2 Extract</h5> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span>  <span class="token constant">E</span> <span class="token operator">=</span> Extract<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">|</span><span class="token builtin">number</span><span class="token punctuation">,</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> e<span class="token punctuation">:</span><span class="token constant">E</span> <span class="token operator">=</span> <span class="token string">'1'</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="_10-7-3-3-nonnullable"><a href="#_10-7-3-3-nonnullable" aria-hidden="true" class="header-anchor">#</a> 10.7.3.3 NonNullable</h5> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span>  <span class="token constant">E</span> <span class="token operator">=</span> NonNullable<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">|</span><span class="token builtin">number</span><span class="token operator">|</span><span class="token keyword">null</span><span class="token operator">|</span>undefined<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> e<span class="token punctuation">:</span><span class="token constant">E</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="_10-7-3-4-returntype"><a href="#_10-7-3-4-returntype" aria-hidden="true" class="header-anchor">#</a> 10.7.3.4 ReturnType</h5> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">getUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">&quot;weisuoke&quot;</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 通过 ReturnType 将 getUserInfo 的返回值类型赋给了 UserInfo</span>
<span class="token keyword">type</span> UserInfo <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> getUserInfo<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> userA<span class="token punctuation">:</span> UserInfo <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">&quot;weisuoke&quot;</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="_10-7-3-5-instancetype"><a href="#_10-7-3-5-instancetype" aria-hidden="true" class="header-anchor">#</a> 10.7.3.5 InstanceType</h5> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span>  <span class="token constant">P</span> <span class="token operator">=</span> InstanceType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> Person<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> p<span class="token punctuation">:</span><span class="token constant">P</span> <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'weisuoke'</span><span class="token punctuation">,</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间: </span> <span class="time">4/2/2019, 8:31:33 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/fe/webpack/手写Webpack.html" class="prev">
          手写Webpack
        </a></span> <span class="next"><a href="/fe/react/01.React必知必会.html">
          React必知必会
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.cdcd2146.js" defer></script><script src="/assets/js/2.cc12ecf3.js" defer></script><script src="/assets/js/107.046691ae.js" defer></script>
  </body>
</html>
